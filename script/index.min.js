"use strict";$(function(){var a=function(a){return axios.get(a).then(function(a){return a.data}).catch(function(a){console.log(a)})},e=function(a){return axios.get(a).then(function(a){return a.data}).catch(function(a){console.log(a)})},t=function(){var a=new Date,e=a.getHours()+1,t=a.getMinutes(),n=$('<p class = "amica__top-center__restaurant-info__isOpen"></p>');10==e?t>=30&&t<=59?n.text("OPEN!"):n.text("CLOSED!"):e>=11&&e<14&&n.text("OPEN!"),n.insertAfter(".amica__top-center__restaurant-info__time")},n=function(){var a=$("\n        <div class = 'footer'>\n            <div class = 'footer--absolute'>\n                <a class = 'footer__button-amica'>Go Back</a>    \n            </div>\n        </div>\n    ");$(".amica--width-100").append(a)},o=function(a){var e=new Date,t=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return a&&n<10&&(n="0"+n),o+"-"+n+"-"+t},c=function(){var a=(new Date).getDay();0==a?a=6:a-=1,$(".row > div").eq(a).css({opacity:"1",border:"1px solid #090"})},r={$amicaHome:$(".amica__center-center__button"),$haagaHome:$(".haaga__center-center__button")},_={container:$(".amica"),center:$(".amica__center-center"),center_logo:$(".amica__center-center__logo")},i={container:$(".haaga"),center:$(".haaga__center-center"),center_logo:$(".haaga__center-center__logo")},s=o(!1),m={amicaHomeButton:function(m){m.preventDefault(),_.container.removeClass("amica--width-50").addClass("amica--width-100"),i.container.removeClass("haaga--width-50").addClass("haaga--width-0"),_.center.removeClass("amica__center-center").addClass("amica__top-center"),_.center_logo.removeClass("amica__center-center__logo").addClass("amica__top-center__logo"),r.$amicaHome.fadeOut(0),a("http://www.amica.fi/modules/json/json/Index?costNumber=0084&language=en").then(function(a){var e=$('<div class="amica__top-center__restaurant-info">\n                            <h1 class="amica__top-center__restaurant-info__name">'+a.RestaurantName+'</h1>\n                            <p class="amica__top-center__restaurant-info__link"><a href="'+a.RestaurantUrl+'" target="_blank">Website</a></p>\n                        </div>');$(".amica__top-center").append(e);var n=$(".amica__top-center__restaurant-info"),c=$('<p class="amica__top-center__restaurant-info__time">Closed!</p>');n.append(c);var r=o(!0);a.MenusForDays.forEach(function(a,e){-1!=a.Date.search(r)&&(c.text(a.LunchTime),t())})}).catch(function(a){console.log(a)}),e("http://www.amica.fi/api/restaurant/menu/week?language=en&restaurantPageId=6143&weekDate="+s).then(function(a){var e=$('<div class="row row__small row__medium row__large"></div>');a.LunchMenus.forEach(function(a){var t=$('<div class="row__small-12 row__medium-6 row__large-3"</div>');a.Html?t.append("<h3>"+a.DayOfWeek+" ("+a.Date+")</h3>",a.Html):t.append("<h3>"+a.DayOfWeek+" ("+a.Date+")</h3>","<p>The Restaurant Closed!</p>"),e.append(t),_.container.append(e)}),$(".amica td").removeAttr("width valign"),c(),n()})},haagaHomeButton:function(a){a.preventDefault(),_.container.removeClass("amica--width-50").addClass("amica--width-0"),i.container.removeClass("haaga--width-50").addClass("amica--width-100"),i.center.removeClass("haaga__center-center").addClass("haaga__top-center"),i.center_logo.removeClass("haaga__center-center__logo").addClass("haaga__top-center__logo"),r.$haagaHome.addClass("haaga__center-center__button-hide")}};r.$amicaHome.on("click",m.amicaHomeButton),r.$haagaHome.on("click",m.haagaHomeButton),_.container.on("click",".footer__button-amica",function(){_.container.removeClass("amica--width-100").addClass("amica--width-50");var a=$(".amica__top-center"),e=$(".amica__top-center__logo");a.removeClass("amica__top-center").addClass("amica__center-center"),e.removeClass("amica__top-center__logo").addClass("amica__center_center__logo"),i.container.removeClass("haaga--width-0").addClass("haaga--width-50"),$(".footer").remove(),$(".row").remove(),$(".amica__top-center__restaurant-info").remove(),r.$amicaHome.fadeIn(0)})});